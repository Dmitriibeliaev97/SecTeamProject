-- liquibase formatted sql

-- changeset dbeliaev:1
CREATE TABLE IF NOT EXISTS cats_parents
();

--changeset dbeliaeb:2

--CREATE TABLE IF NOT EXISTS users
--(
--    id SERIAL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
--    chat_id SERIAL NOT NULL,
--    name TEXT NOT NULL,
--    age INTEGER NOT NULL (age > 0),
--    gender TEXT NOT NULL,
--    user_name TEXT NOT NULL
--);
--
--CREATE TABLE IF NOT EXISTS volunteers
--(
--    id SERIAL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
--    name TEXT NOT NULL,
--    user_name TEXT NOT NULL,
--    age INTEGER NOT NULL (age > 0),
--    gender TEXT NOT NULL,
--    chat_id SERIAL NOT NULL,
--    shelter TEXT NOT NULL
--);
--
--CREATE TABLE IF NOT EXISTS parents
--(
--    SELECT * FROM users,
--    animal TEXT REFERENCES animals(id)
--);
--
--
--
--CREATE TABLE IF NOT EXISTS animals
--(
--    id SERIAL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
--    name TEXT NOT NULL,
--    age_month INTEGER CHECK (age > 0),
--    gender TEXT NOT NULL,
--    shelter TEXT,
--    type_pet TEXT NOT NULL PRIMARY KEY,
--    parent TEXT REFERENCES parents(id) DEFAULT NULL
--);
--
--CREATE TABLE IF NOT EXISTS cats_shelter
--(
--    id SERIAL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
--    name TEXT NOT NULL,
--    cats REFERENCES animals (type_pet) WHERE type_pet = 'cat',
--    volunteer REFERENCES volunteers(id)
--);
--
--CREATE TABLE IF NOT EXISTS dogs_shelter
--(
--    id SERIAL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
--    name TEXT NOT NULL,
--    dogs REFERENCES animals (type_pet) WHERE type_pet = 'dog',
--    volunteer REFERENCES volunteers(id)
--);
--
--ALTER TABLE cats_parents ADD SELECT * FROM parents;
--ALTER TABLE cats_parents SELECT animal WHERE type_pet = 'cat';
--
--CREATE TABLE IF NOT EXISTS dogs_parents
--(
--    SELECT * FROM parents,
--    SELECT animal WHERE type_pet = 'dog'
--);
